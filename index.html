<!DOCTYPE html>
<html>
<head>
<title>OreStellar</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">

<style>
html, body {
    background-color: black;
    color: white;
    margin: 0;
    padding: 0;
    height: 100%;
}

body {
    display: flex;
    flex-direction: column;
}

header {
    flex-shrink: 0; /* Prevent header from shrinking */
}

.container-wrapper {
    display: flex;
    height: 100%;
    padding: 20px;
    box-sizing: border-box;
    justify-content: center; 
    align-items: center; 
}

.main-container {
    margin: 0 auto
    flex-shrink: 0; /* Prevent shrinking */
    width: 630px; /* Set the desired width */
    height: 418px; 
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    animation: expand 1.5s ease-out; /* Apply the animation on load */
}
@keyframes expand {
    from {
        transform: scale(0.5); /* Start small */
        opacity: 0.5;          /* Start with some transparency */
    }
    to {
        transform: scale(1);   /* Final size (normal) */
        opacity: 1;            /* Fully opaque */
    }
}

.w3-card, .w3-container {
    background-color: #333;
    color: white; /* Solid dark grey background */
    opacity: 1; /* Ensure full opacity */
    border-radius: 15px; /* Add rounded corners */
    
}

.full-width-textarea {
    width: 100%;
    box-sizing: border-box; /* Ensures padding is included in the width */
    margin-bottom: 20px; /* Add margin below textarea */
    resize: none; /* Prevent resizing */
    height: 100%; /* Fill the height of the container */
}

.hidden {
    display: none;
}

.total-cost-container {
    background-image: url('images/Contract 2.png'); /* Add your image */
    background-size: auto; /* Keep the actual size of the image */
    background-position: center;
    background-repeat: no-repeat;
    width: 630px; /* Updated width */
    height: 418px; /* Updated height */
    position: relative; /* Make it a positioned element */
    color: white;
    border-radius: 15px;
    margin-left: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    animation: expand 1.5s ease-out;
}

#totalCostText {
    position: absolute;
    top: 52%;  /* Move it down a bit */
    left: 53%; /* Move it to the right a bit */
    transform: translate(-50%, -50%);
    font-size: 16px;
    font-weight: bold;
    color: white;
    text-align: center;
}

#additionalText {
    position: absolute;
    top: 86%;  /* Adjust to position it vertically */
    left: 55%; /* Adjust to center horizontally */
    transform: translate(-50%, -50%);
    font-size: 16px; /* Adjust font size */
    font-weight: bold;
    color: white; /* Change the color if needed */
    text-align: center;
}

.quote-text {
    font-style: italic; /* Italicize the text */
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5), 
                 0 2px 2px rgba(0, 0, 0, 0.5), 
                 0 3px 3px rgba(0, 0, 0, 0.5); /* Shadow layers for reflection effect */
}
</style>
</head>
<body>

<header class="w3-container w3-theme w3-padding" id="myHeader">
  <div class="w3-center">
    <img src="images/OreStellar Header.png" alt="Header Image" style="width: 300px; height: auto;">
  </div>
  <hr>
</header>

<div class="container-wrapper">
  <div class="main-container w3-card w3-container w3-center">
    <h3 class="quote-text">Quote</h3><br>
    <div class="form-container">
      <form action="/submit" method="post" class="full-height">
        <textarea id="message" name="message" class="w3-input w3-border w3-round full-width-textarea" rows="8" cols="50" placeholder="Copy and paste your inventory here..&#10;&#10;Ytirium  82460&#10;Jet Ochre 1045&#10;Pellucid Crokite 320&#10;Compressed Ytirium 60253&#10;Compressed Ueganite 10403&#10;Compressed Ducinium 2402"></textarea>
      </form>
      <button onclick="showContent()" class="w3-button w3-black w3-round">Submit</button>
    </div>
  </div>

  <div id="totalCostContainer" class="total-cost-container hidden">
    <p id="totalCostText">0</p>
    <p id="additionalText">that was stellar</p> 
  </div>
</div>

<script>
const priceList = {
"Arkonor": 5300,
"Crimson Arkonor": 5600,
"Prime Arkonor": 5800,
"Flawless Arkonor": 6000,
"Compressed Arkonor": 5300,
"Compressed Crimson Arkonor": 5600,
"Compressed Prime Arkonor": 6000,
"Compressed Flawless Arkonor": 5300,
"Bezdnacine": 22000,
"Abyssal Bezdnacine": 23000,
"Hadal Bezdnacine": 24000,
"Compressed Bezdnacine": 22000,
"Compressed Abyssal Bezdnacine": 23000,
"Compressed Hadal Bezdnacine": 24000,
"Bistot": 2600,
"Triclinic Bistot": 2700,
"Monoclinic Bistot": 2750,
"Cubic Bistot": 2850,
"Compressed Bistot": 2600,
"Compressed Triclinic Bistot": 2700,
"Compressed Monoclinic Bistot": 2750,
"Compressed Cubic Bistot": 2850,
"Crokite": 7600,
"Sharp Crokite": 7800,
"Crystalline Crokite": 8100,
"Pellucid Crokite": 8500,
"Compressed Crokite": 7600,
"Compressed Sharp Crokite": 7800,
"Compressed Crystalline Crokite": 8100,
"Compressed Pellucid Crokite": 8500,
"Dark Ochre": 7200,
"Onyx Ochre": 7600,
"Obsidian Ochre": 8000,
"Jet Ochre": 8300,
"Compressed Dark Ochre": 7200,
"Compressed Onyx Ochre": 7600,
"Compressed Obsidian Ochre": 8000,
"Compressed Jet Ochre": 8300,
"Ducinium": 6200,
"Noble Ducinium": 6500,
"Royal Ducinium": 6800,
"Imperial Ducinium": 7100,
"Compressed Ducinium": 6200,
"Compressed Noble Ducinium": 6500,
"Compressed Royal Ducinium": 6800,
"Compressed Imperial Ducinium": 7100,
"Eifyrium": 3100,
"Doped Eifyrium": 3200,
"Boosted Eifyrium": 3300,
"Augmented Eifyrium": 3400,
"Compressed Eifyrium": 3100,
"Compressed Doped Eifyrium": 3200,
"Compressed Boosted Eifyrium": 3300,
"Compressed Augmented Eifyrium": 3400,
"Gneiss": 3500,
"Iridescent Gneiss": 3700,
"Prismatic Gneiss": 3800,
"Brilliant Gneiss": 3900,
"Compressed Gneiss": 3500,
"Compressed Iridescent Gneiss": 3700,
"Compressed Prismatic Gneiss": 3800,
"Compressed Brilliant Gneiss": 3900,
"Griemeer": 250,
"Clear Griemeer": 270,
"Inky Griemeer": 290,
"Opaque Griemeer": 300,
"Compressed Griemeer": 250,
"Compressed Clear Griemeer": 270,
"Compressed Inky Griemeer": 290,
"Compressed Opaque Griemeer": 300,
"Hedbergite": 900,
"Vitric Hedbergite": 950,
"Glazed Hedbergite": 1000,
"Lustrous Hedbergite": 1050,
"Compressed Hedbergite": 900,
"Compressed Vitric Hedbergite": 950,
"Compressed Glazed Hedbergite": 1000,
"Compressed Lustrous Hedbergite": 1050,
"Hemorphite": 1400,
"Vivid Hemorphite": 1500,
"Radiant Hemorphite": 1600,
"Scintillating Hemorphite": 1650,
"Compressed Hemorphite": 1400,
"Compressed Vivid Hemorphite": 1500,
"Compressed Radiant Hemorphite": 1600,
"Compressed Scintillating Hemorphite": 1650,
"Hezorime": 950,
"Dull Hezorime": 1000,
"Serrated Hezorime": 1150,
"Sharp Hezorime": 1200,
"Compressed Hezorime": 950,
"Compressed Dull Hezorime": 1000,
"Compressed Serrated Hezorime": 1150,
"Compressed Sharp Hezorime": 1200,
"Jaspet": 410,
"Pure Jaspet": 475,
"Pristine Jaspet": 490,
"Immaculate Jaspet": 510,
"Compressed Jaspet": 410,
"Compressed Pure Jaspet": 475,
"Compressed Pristine Jaspet": 490,
"Compressed Immaculate Jaspet": 510,
"Kernite": 390,
"Luminous Kernite": 400,
"Fiery Kernite": 430,
"Resplendent Kernite": 450,
"Compressed Kernite": 390,
"Compressed Luminous Kernite": 400,
"Compressed Fiery Kernite": 430,
"Compressed Resplendent Kernite": 450,
"Kylixium": 250,
"Kaolin Kylixium": 270,
"Argil Kylixium": 290,
"Adobe Kylixium": 300,
"Compressed Kylixium": 250,
"Compressed Kaolin Kylixium": 270,
"Compressed Argil Kylixium": 290,
"Compressed Adobe Kylixium": 300,
"Mercoxit": 49000,
"Magma Mercoxit": 52000,
"Vitreous Mercoxit": 55000,
"Compressed Mercoxit": 49000,
"Compressed Magma Mercoxit": 52000,
"Compressed Vitreous Mercoxit": 55000,
"Mordunium": 2.5,
"Plum Mordunium": 2.7,
"Prize Mordunium": 2.9,
"Plunder Mordunium": 3,
"Compressed Mordunium": 2.5,
"Compressed Plum Mordunium": 2.7,
"Compressed Prize Mordunium": 2.9,
"Compressed Plunder Mordunium": 3,
"Nocxite": 820,
"Fragrant Nocxite": 850,
"Intoxicating Nocxite": 880,
"Ambrosial Nocxite": 910,
"Compressed Nocxite": 820,
"Compressed Fragrant Nocxite": 850,
"Compressed Intoxicating Nocxite": 880,
"Compressed Ambrosial Nocxite": 910,
"Omber": 185,
"Silvery Omber": 190,
"Golden Omber": 195,
"Platinoid Omber": 200,
"Compressed Omber": 185,
"Compressed Silvery Omber": 190,
"Compressed Golden Omber": 195,
"Compressed Platinoid Omber": 200,
"Plagioclase": 35,
"Azure Plagioclase": 37,
"Rich Plagioclase": 39,
"Sparkling Plagioclase": 40,
"Compressed Plagioclase": 35,
"Compressed Azure Plagioclase": 37,
"Compressed Rich Plagioclase": 39,
"Compressed Sparkling Plagioclase": 40,
"Pyroxeres": 16,
"Solid Pyroxeres": 17,
"Viscous Pyroxeres": 18,
"Opulent Pyroxeres": 19,
"Compressed Pyroxeres": 16,
"Compressed Solid Pyroxeres": 17,
"Compressed Viscous Pyroxeres": 18,
"Compressed Opulent Pyroxeres": 19,
"Rakovene": 12000,
"Abyssal Rakovene": 13000,
"Hadal Rakovene": 13900,
"Compressed Rakovene": 12000,
"Compressed Abyssal Rakovene": 13000,
"Compressed Hadal Rakovene": 13900,
"Scordite": 7.5,
"Condensed Scordite": 7.9,
"Massive Scordite": 8.1,
"Glossy Scordite": 8.2,
"Compressed Scordite": 7.5,
"Compressed Condensed Scordite": 7.9,
"Compressed Massive Scordite": 8.1,
"Compressed Glossy Scordite": 8.2,
"Spodumain": 8000,
"Bright Spodumain": 8300,
"Gleaming Spodumain": 8600,
"Dazzling Spodumain": 8900,
"Compressed Spodumain": 8000,
"Compressed Bright Spodumain": 8300,
"Compressed Gleaming Spodumain": 8600,
"Compressed Dazzling Spodumain": 8900,
"Talassonite": 9700,
"Abyssal Talassonite": 10000,
"Hadal Talassonite": 10400,
"Compressed Talassonite": 9700,
"Compressed Abyssal Talassonite": 10000,
"Compressed Hadal Talassonite": 10400,
"Ueganite": 1430,
"Foggy Ueganite": 1480,
"Overcast Ueganite": 1500,
"Stormy Ueganite": 1520,
"Compressed Ueganite": 1430,
"Compressed Foggy Ueganite": 1480,
"Compressed Overcast Ueganite": 1500,
"Compressed Stormy Ueganite": 1520,
"Veldspar": 10,
"Concentrated Veldspar": 10.2,
"Dense Veldspar": 10.4,
"Stable Veldspar": 10.5,
"Compressed Veldspar": 10,
"Compressed Concentrated Veldspar": 10.2,
"Compressed Dense Veldspar": 10.4,
"Compressed Stable Veldspar": 10.5,
"Ytirium": 780,
"Bootleg Ytirium": 800,
"Firewater Ytirium": 820,
"Moonshine Ytirium": 850,
"Compressed Ytirium": 800,
"Compressed Bootleg Ytirium": 810,
"Compressed Firewater Ytirium": 820,
"Compressed Moonshine Ytirium": 850,
};

// Function to add commas to a number
function formatNumberWithCommas(number) {
    return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

function showContent() {
    var totalCostContainer = document.getElementById('totalCostContainer');
    var textarea = document.getElementById('message').value;

    // Reset content before updating
    document.getElementById('totalCostText').innerHTML = '';  

    // Define regex pattern
    var regex = /([\w\s]+?)\s+(\d+)/g;
    var matches;
    var totalCost = 0;
    var invalidItems = [];

    // Iterate through all matches
    while ((matches = regex.exec(textarea)) !== null) {
        var item = matches[1].trim();
        var quantity = parseInt(matches[2]);

        if (priceList[item] !== undefined) {
            var price = priceList[item];
            var cost = quantity * price;
            totalCost += cost;
        } else {
            invalidItems.push(item); // Collect invalid items
        }
    }

    var resultText = formatNumberWithCommas(totalCost.toFixed(2));
    
    // Show invalid items, if any
    if (invalidItems.length > 0) {
        resultText += '<br><br><span style="color: red;">Unrecognized items: ' + invalidItems.join(', ') + '</span>';
    }

    // Display total cost and invalid items
    document.getElementById('totalCostText').innerHTML = resultText;
    totalCostContainer.classList.remove('hidden');
}
</script>

</body>
</html>
