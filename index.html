<header id="myHeader">
  <h1 id="logoText" data-text="OreStellar">OreStellar</h1>
</header>

<script>
const logo = document.getElementById('logoText');

logo.addEventListener('click', () => {
    explodeLogo(logo);
});

function explodeLogo(el){
    const rect = el.getBoundingClientRect();
    const pieceSize = 6;
    const pieces = [];

    // Create pieces at logo position
    for(let y=0; y<rect.height; y+=pieceSize){
        for(let x=0; x<rect.width; x+=pieceSize){
            pieces.push({
                x: rect.left + x,
                y: rect.top + y,
                dx: (Math.random()-0.5)*10,
                dy: (Math.random()-0.5)*10,
                rotation: Math.random()*Math.PI*2,
                dRotation: (Math.random()-0.5)*0.2,
                alpha: 1,
                size: pieceSize,
                color: '#fff'
            });
        }
    }

    el.style.visibility = 'hidden';

    // Explosion canvas
    const canvas = document.createElement('canvas');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    canvas.style.position = 'fixed';
    canvas.style.top = '0';
    canvas.style.left = '0';
    canvas.style.pointerEvents = 'none';
    canvas.style.zIndex = 9999;
    document.body.appendChild(canvas);
    const ctx = canvas.getContext('2d');

    const startTime = performance.now();
    const duration = 2500;

    function animate(now){
        const elapsed = now - startTime;
        const progress = Math.min(elapsed/duration,1);

        // darken background
        ctx.fillStyle = `rgba(0,0,0,${progress*0.7})`;
        ctx.fillRect(0,0,canvas.width,canvas.height);

        // hot burst
        const burstRadius = 200 * Math.pow(progress,1.5);
        const gradient = ctx.createRadialGradient(
            rect.left + rect.width/2,
            rect.top + rect.height/2,
            0,
            rect.left + rect.width/2,
            rect.top + rect.height/2,
            burstRadius
        );
        gradient.addColorStop(0,'rgba(255,255,255,1)');
        gradient.addColorStop(0.4,'rgba(180,220,255,0.6)');
        gradient.addColorStop(1,'rgba(0,0,0,0)');
        ctx.fillStyle = gradient;
        ctx.beginPath();
        ctx.arc(rect.left+rect.width/2, rect.top+rect.height/2, burstRadius, 0, Math.PI*2);
        ctx.fill();

        // draw pieces
        pieces.forEach(p=>{
            p.x += p.dx;
            p.y += p.dy;
            p.dy += 0.1; // gravity
            p.rotation += p.dRotation;
            p.alpha -= 0.005;

            ctx.save();
            ctx.translate(p.x,p.y);
            ctx.rotate(p.rotation);
            ctx.globalAlpha = p.alpha;
            ctx.fillStyle = p.color;
            ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size);
            ctx.restore();
        });

        if(progress < 1 || pieces.some(p=>p.alpha>0)){
            requestAnimationFrame(animate);
        } else {
            location.reload();
        }
    }
    requestAnimationFrame(animate);
}
</script>
